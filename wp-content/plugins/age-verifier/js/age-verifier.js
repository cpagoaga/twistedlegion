!function(e,a,i,o){function t(){e("body").removeClass("av-resolved"),e("body").removeClass("av-unresolved"),e("html").removeClass("av-resolved"),e("html").removeClass("av-unresolved"),e("body").addClass("av-hidden"),e("html").addClass("av-hidden"),e("#av-wrap").css({opacity:0}),e(a).off("resize"),setTimeout(function(){e("#av-wrap").remove()},330)}function r(){var a=!1;if("birthday"==C.mode){var i=new Date,t=new Date;i.setDate(e("#select-day").val()),i.setMonth(e("#select-month").val()),i.setYear(e("#select-year").val()),t.getTime()-i.getTime()>365*C.minimum_age*24*60*60*1e3&&(a=!0)}if("age"==C.mode&&parseInt(e("#field-age").html(),10)>=C.minimum_age&&(a=!0),"confirmation"==C.mode&&e("#form-confirm-checkbox").hasClass("form-confirm-checkbox-checked")&&(a=!0),a&&e.age_verifier_user_verified!=o&&(e.age_verifier_user_verified(),b())){if(1==parseInt(localStorage.age_verifier_preview,10))return localStorage.age_verifier_preview=0,a;localStorage.ageVerifierId=e.age_verifier_id,localStorage.ageVerifierDate=(new Date).getTime()}return a}function n(){e("#av-error").addClass("av-error-visible")}function d(){a.location.href=C.safe_url}function l(){var a=new Date;e("#select-year").val(a.getFullYear()),e("#select-month").val(a.getMonth()),e("#select-day").val(a.getDate()),e(".birthday-select").chosen({width:"100%",disable_search_threshold:1e6})}function s(){e(a).on("resize",function(){"age"==C.mode&&v()}),e("#slider-age-wrap").on("mousedown",function(e){D||M||(M=!0,u(),g(e))}),e(i).on("mousemove",function(e){D||M&&g(e)}),e(i).on("mouseup",function(e){D||M&&(M=!1,f())}),e("#slider-age-wrap").on("touchstart",function(e){D=!0,M||(M=!0,u(),g(e))}),e(i).on("touchmove",function(e){D=!0,M&&g(e)}),e(i).on("touchend",function(e){D=!0,M&&(M=!1,f())})}function v(){F=e("#slider-age-bar"),S=e("#slider-age").offset().left,T=e("#slider-age").width(),J=e("#field-age")}function c(){var a=parseInt(e("#field-age").data("initial-age"),10),i=100*a/(X-L)+0;F.css({width:i+"%"}),V=i,J.html(a)}function u(){v(),e("#slider-age").addClass("slider-dragging")}function g(e){var a=0;a=e.pageX!=o?e.pageX:e.originalEvent.touches[0].pageX;var i=S,t=T,r=100*(a-i)/t;r=r>100?100:r,r=r<0?0:r,O=r,m()}function f(){e("#slider-age").removeClass("slider-dragging")}function m(){A==o&&(A=setInterval(function(){Math.abs(V-O)>.1?(V=h(V,O,.3),F.css({width:V+"%"}),J.html(Math.round(L+V*(X-L)/100))):(clearInterval(A),A=o)},16))}function p(){var a=e(".av-content-node"),i=a.length,o=i-1,t=100;"slide"==C.animation&&(t=160);var r=setInterval(function(){o>=0?(e(a[o]).removeClass("av-unresolved-content"),o--):clearInterval(r)},t)}function h(e,a,i){return(1-i)*e+i*a}function b(){try{var e=a.localStorage,i="__storage_test__";return e.setItem(i,i),e.removeItem(i),!0}catch(e){return console.log("Local storage is NOT supported!"),!1}}function _(e){var a="",i="";"birthday"==e.mode&&(i=y()),"age"==e.mode&&(i=w()),"confirmation"==e.mode&&(i=x()),e.text=e.text.replace(/\\n/g,"<br>"),e.text=e.text.replace(/\n/g,"<br>");var o="";"pop_in"==e.animation&&(o="av-animation-pop-in"),"slide"==e.animation&&(o="av-animation-slide");var t=e.error_message.replace("[age]",e.minimum_age),r="background-color: "+e.background+"; ";"image"==e.background_type&&(r+="background-image: url("+e.background_image_url+")");var n="color: "+e.text_color,a="";return a+='<div id="av-wrap" class="'+o+'" style="'+r+"; "+n+'">',a+='    <div id="av-inner-scroll-wrap">',a+='    <div id="av-inner">',a+='        <div id="av-content">',a+='            <div id="av-title" class="av-content-node">',a+="                "+e.title,a+="            </div>",a+='            <div id="av-text" class="av-content-node">',a+="                "+e.text,a+="            </div>",a+='            <div id="av-form" class="av-content-node">',a+="                "+i,a+="            </div>",a+="            <br />",a+='            <div id="av-submit" class="av-content-node">',a+="                "+e.submit_text,a+="            </div><br>",a+='            <div id="av-error" class="av-content-node">',a+='               <div id="av-error-inner">',a+='                   <div id="av-error-icon">',a+='                       <div class="glyphicon glyphicon-ban-circle"></div>',a+="                   </div>",a+="                   "+t,a+="               </div>",a+="            </div>",a+="        </div>",a+="    </div>",a+="    </div>",a+="</div>"}function y(){var e="";e+='<div id="form-birthday">',e+='    <div id="form-birthday-inner">',e+='        <div class="birthday-select-wrap av-first">',e+='            <select id="select-day" class="birthday-select">';for(var a=1;a<=31;a++)e+='                <option value="'+a+'">'+a+"</option>";e+="            </select>",e+="        </div>",e+='        <div class="birthday-select-wrap">',e+='            <select id="select-month" class="birthday-select">',e+='                <option value="0">January</option>',e+='                <option value="1">February</option>',e+='                <option value="2">March</option>',e+='                <option value="3">April</option>',e+='                <option value="4">May</option>',e+='                <option value="5">June</option>',e+='                <option value="6">July</option>',e+='                <option value="7">August</option>',e+='                <option value="8">September</option>',e+='                <option value="9">October</option>',e+='                <option value="10">November</option>',e+='                <option value="11">December</option>',e+="            </select>",e+="        </div>",e+='        <div class="birthday-select-wrap av-last">',e+='            <select id="select-year" class="birthday-select">';for(var i=(new Date).getFullYear(),a=i;a>i-110;a--)e+='                <option value="'+a+'">'+a+"</option>";return e+="            </select>",e+="        </div>",e+="    </div>",e+="</div>"}function w(){var e="";e+='<div id="form-age">',e+='    <div id="field-age" data-initial-age="'+C.minimum_age+'">',e+="        24",e+="    </div>",e+='    <div id="slider-age-wrap">';var a=I(C.text_color);return e+='        <div id="slider-age" style="background: rgba('+a.r+","+a.g+","+a.b+',0.35)">',e+='           <div id="slider-age-bar" style="background: '+C.text_color+'">',e+='               <div id="slider-age-handle" style="background: '+C.text_color+'"></div>',e+="           </div>",e+="        </div>",e+="    </div>",e+="</div>"}function x(){var e="";return e+='<div id="form-confirm">',e+='    <div id="form-confirm-checkbox">',e+="    </div>",e+='    <div id="form-confirm-text">',e+="        I am at least "+C.minimum_age+" years old.",e+="    </div>",e+="</div>"}function I(e){var a=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return a?{r:parseInt(a[1],16),g:parseInt(a[2],16),b:parseInt(a[3],16)}:null}var C=o,k=o,D=!1,S=0,T=0,M=!1,A=o,V=0,O=0,F=o,J=o,L=1,X=110;e.AgeVerifier=function(i){C=i,k=_(C);var u=(new Date).getTime();return b()&&parseInt(e.age_verifier_id,10)==parseInt(localStorage.ageVerifierId,10)&&(0==parseInt(localStorage.age_verifier_preview,10)||localStorage.age_verifier_preview===o)&&u/1e3-parseInt(localStorage.ageVerifierDate,10)/1e3<86400*parseInt(C.cookie_expiration,10)?void e("body, html").css({opacity:1}):(e("body").addClass("av-unresolved"),e("html").addClass("av-unresolved"),e("body").prepend(k),e(".av-content-node").addClass("av-unresolved-content"),e("body").addClass("av-resolved"),e("html").addClass("av-resolved"),p(),a.onload=function(){setTimeout(function(){scrollTo(0,-1)},0)},"birthday"==C.mode&&l(),"age"==C.mode&&(s(),v(),c()),e("#av-submit").on("click",function(){r()?t():1==parseInt(C.safe_url_enabled,10)?d():n()}),e("#form-confirm").on("click",function(){e("#form-confirm-checkbox").toggleClass("form-confirm-checkbox-checked")}),void(navigator.userAgent.toLowerCase().indexOf("iphone")==-1&&navigator.userAgent.toLowerCase().indexOf("android")==-1||e("#av-wrap").addClass("no-chosen")))}}(jQuery,window,document);