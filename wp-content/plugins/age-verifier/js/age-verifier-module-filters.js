!function(e,t,s,o){function l(){e(s).off("click","#button-add-filter"),e(s).on("click","#button-add-filter",function(){n(),a()}),e(s).off("click","#button-edit-filter"),e(s).on("click","#button-edit-filter",function(){v!=o&&(i(),e("#modal-edit-filter").modal())}),e(s).off("click","#button-delete-filter"),e(s).on("click","#button-delete-filter",function(){v!=o&&(g(),a())}),e(s).off("change","#select-filters"),e(s).on("change","#select-filters",function(){e(this).val().length>1&&e(this).val([e(this).val().shift()]),v=o;for(var t=e(this).val()[0],s=0;s<h.length;s++)if(h[s].id==t){v=h[s];break}}),e(s).off("change","#modal-edit-filter input, #modal-edit-filter select"),e(s).on("change","#modal-edit-filter input, #modal-edit-filter select",function(){p()}),e(s).off("click","#button-confirm-edit-filter"),e(s).on("click","#button-confirm-edit-filter",function(){r(),a()})}function a(){for(var t="",s=0;s<d.posts.length;s++)t+='<option value="'+d.posts[s].ID+'">'+d.posts[s].post_title+"</option>";e("#select-posts").html(t);for(var t="",s=0;s<d.pages.length;s++)t+='<option value="'+d.pages[s].ID+'">'+d.pages[s].post_title+"</option>";e("#select-pages").html(t);for(var t="",s=0;s<d.tags.length;s++)t+='<option value="'+d.tags[s].term_id+'">'+d.tags[s].name+"</option>";e("#select-tags").html(t);for(var t="",s=0;s<d.categories.length;s++)t+='<option value="'+d.categories[s].cat_ID+'">'+d.categories[s].cat_name+"</option>";if(e("#select-categories").html(t),e("#select-filters").html(""),0!=h.length){for(var s=0;s<h.length;s++){var o=h[s];if("homepage"==o.type&&e("#select-filters").append('<option value="'+o.id+'">Home Page</option>'),"all_posts"==o.type&&e("#select-filters").append('<option value="'+o.id+'">All Posts</option>'),"all_pages"==o.type&&e("#select-filters").append('<option value="'+o.id+'">All Pages</option>'),"selected_posts"==o.type){for(var t='<option value="'+o.id+'">Selected Posts: ',l=0;l<o.vals.length;l++){for(var a=o.vals[l],i="",r=0;r<d.posts.length;r++)d.posts[r].ID==a&&(i=d.posts[r].post_title);""!=i&&(t+=i+", ")}o.vals.length>0&&(t=t.substr(0,t.length-2)),t+="</option>",e("#select-filters").append(t)}if("selected_pages"==o.type){for(var t='<option value="'+o.id+'">Selected Pages: ',l=0;l<o.vals.length;l++){for(var a=o.vals[l],i="",r=0;r<d.pages.length;r++)d.pages[r].ID==a&&(i=d.pages[r].post_title);""!=i&&(t+=i+", ")}o.vals.length>0&&(t=t.substr(0,t.length-2)),t+="</option>",e("#select-filters").append(t)}if("tags"==o.type){for(var t='<option value="'+o.id+'">Tags: ',l=0;l<o.vals.length;l++){for(var a=o.vals[l],i="",r=0;r<d.tags.length;r++)d.tags[r].term_id==a&&(i=d.tags[r].name);""!=i&&(t+=i+", ")}o.vals.length>0&&(t=t.substr(0,t.length-2)),t+="</option>",e("#select-filters").append(t)}if("categories"==o.type){for(var t='<option value="'+o.id+'">Categories: ',l=0;l<o.vals.length;l++){for(var a=o.vals[l],i="",r=0;r<d.categories.length;r++)d.categories[r].cat_ID==a&&(i=d.categories[r].cat_name);""!=i&&(t+=i+", ")}o.vals.length>0&&(t=t.substr(0,t.length-2)),t+="</option>",e("#select-filters").append(t)}}c()}}function c(){v!=o?e("#select-filters").val(v.id):e("#select-filters").val([])}function i(){"homepage"==v.type&&e("#checkbox-homepage").parent().button("toggle"),"all_posts"==v.type&&e("#checkbox-all-posts").parent().button("toggle"),"all_pages"==v.type&&e("#checkbox-all-pages").parent().button("toggle"),"selected_posts"==v.type&&(e("#checkbox-selected-posts").parent().button("toggle"),e("#select-posts").val(v.vals)),"selected_pages"==v.type&&(e("#checkbox-selected-pages").parent().button("toggle"),e("#select-pages").val(v.vals)),"tags"==v.type&&(e("#checkbox-tags").parent().button("toggle"),e("#select-tags").val(v.vals)),"categories"==v.type&&(e("#checkbox-categories").parent().button("toggle"),e("#select-categories").val(v.vals)),p()}function r(){1==e("#checkbox-homepage").get(0).checked&&(v.type="homepage"),1==e("#checkbox-all-posts").get(0).checked&&(v.type="all_posts"),1==e("#checkbox-all-pages").get(0).checked&&(v.type="all_pages"),1==e("#checkbox-selected-posts").get(0).checked&&(v.type="selected_posts",v.vals=e("#select-posts").val()),1==e("#checkbox-selected-pages").get(0).checked&&(v.type="selected_pages",v.vals=e("#select-pages").val()),1==e("#checkbox-tags").get(0).checked&&(v.type="tags",v.vals=e("#select-tags").val()),1==e("#checkbox-categories").get(0).checked&&(v.type="categories",v.vals=e("#select-categories").val())}function p(){e("#form-group-select-posts").hide(),e("#form-group-select-pages").hide(),e("#form-group-select-tags").hide(),e("#form-group-select-categories").hide(),e("#checkbox-selected-posts").get(0).checked&&e("#form-group-select-posts").show(),e("#checkbox-selected-pages").get(0).checked&&e("#form-group-select-pages").show(),e("#checkbox-tags").get(0).checked&&e("#form-group-select-tags").show(),e("#checkbox-categories").get(0).checked&&e("#form-group-select-categories").show()}function g(){for(var e=0;e<h.length;e++)v.id==h[e].id&&h.splice(e,1)}function n(){var e={id:f(0,99999),type:"all_posts"};h.push(e),v=e,i()}function f(e,t){return Math.round(Math.random()*(t-e)+e)}var d={pages:[],posts:[],tags:[],categories:[]},h=[{id:55633,type:"homepage"},{id:55671,type:"all_posts"},{id:12356,type:"all_pages"},{id:55117,type:"selected_pages",vals:[165,157]},{id:23032,type:"selected_posts",vals:[150,153,169]},{id:33677,type:"tags",vals:[7,5,9]},{id:93748,type:"categories",vals:[2,4]}],v=o;e.age_verifier_init_filter_module=function(){var t={action:"get_filters_data"};e.post(ajaxurl,t).done(function(t){d=JSON.parse(t),e("#editor-form .form-horizontal .form-group").first().after(d.form_control),e("#editor-form").append(d.modal),e.age_verifier_get_current_settings_ref().filters==o&&(e.age_verifier_get_current_settings_ref().filters=new Array),h=e.age_verifier_get_current_settings_ref().filters,v=o,l(),a()})}}(jQuery,window,document);